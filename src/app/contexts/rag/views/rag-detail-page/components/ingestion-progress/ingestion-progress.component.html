<p-card [header]="getStatusTitle()">
  <div class="progress-container">
    <!-- Status badge -->
    <div class="flex justify-content-between align-items-center mb-3">
      <p-badge [value]="getStatusLabel(status)" [severity]="getStatusSeverity(status)"></p-badge>
      <span class="text-gray-500 text-sm" *ngIf="status === 'processing'">Tiempo transcurrido: {{ elapsedTime }}</span>
    </div>

    <!-- Progress bar -->
    <p-progressBar [value]="progress" [showValue]="true" [style]="{ height: '1.5rem' }"></p-progressBar>

    <!-- Status message -->
    <div class="status-message mt-3">
      <div [ngSwitch]="status">
        <div *ngSwitchCase="'pending'" class="flex align-items-center gap-2 text-blue-600">
          <i class="pi pi-clock"></i>
          <span>El documento est치 en cola para ser procesado</span>
        </div>

        <div *ngSwitchCase="'processing'" class="flex align-items-center gap-2 text-orange-600">
          <i class="pi pi-spin pi-spinner"></i>
          <span>{{ getProcessingMessage() }}</span>
        </div>

        <div *ngSwitchCase="'completed'" class="flex align-items-center gap-2 text-green-600">
          <i class="pi pi-check-circle"></i>
          <span>Ingesti칩n completada exitosamente. {{ chunkCount }} chunks generados.</span>
        </div>

        <div *ngSwitchCase="'failed'" class="flex align-items-center gap-2 text-red-600">
          <i class="pi pi-times-circle"></i>
          <span>{{ errorMessage || 'La ingesti칩n fall칩. Por favor, reintenta.' }}</span>
        </div>
      </div>
    </div>

    <!-- Chunk count badge -->
    <div class="mt-3 flex justify-content-between align-items-center" *ngIf="chunkCount > 0">
      <span class="text-sm font-semibold text-gray-700">Chunks procesados:</span>
      <p-chip [label]="chunkCount + ' chunks'" styleClass="custom-chip"></p-chip>
    </div>
  </div>
</p-card>
